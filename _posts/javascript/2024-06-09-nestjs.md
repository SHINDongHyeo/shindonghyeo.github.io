---
category: javascript
title : "[Nest.js]ì‹œì‘í•˜ê¸°"
layout: post
cover : /assets/image/nodejs.png
---

## Nest.jsë€?

nest jsëŠ” node jsì˜ ê²½ëŸ‰í™”ëœ ì›¹ í”„ë ˆì„ì›Œí¬ì¸ Express jsë¥¼ ëŒ€ê·œëª¨ ì• í”Œì¼€ì´ì…˜ ê°œë°œì— ìš©ì´í•˜ë„ë¡ ë°œì „ì‹œí‚¨ ë²„ì „ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ìë°”ì—ì„œ í”í•˜ê²Œ ì‚¬ìš©ë˜ëŠ” OOP. DI ë“±ì˜ ê°œë…ì´ ì¶”ê°€ë˜ì–´ ìë°”ìŠ¤ëŸ½ê²Œ í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥í•˜ë‹¤.

ì´ë•Œ Next.jsì™€ í˜¼ë™í•˜ëŠ” ê²½ìš°ê°€ ë§ì€ë° next jsëŠ” ë¦¬ì•¡íŠ¸ ê¸°ë°˜ SSR í”„ë ˆì„ì›Œí¬ë¥¼ ëœ»í•˜ê³  Nest.jsëŠ” node jsê¸°ë°˜ì˜ ì„œë²„ ì‚¬ì´ë“œ ì›¹ í”„ë ˆì„ì›Œí¬ë¡œ ì„œë¡œ ë‹¤ë¥¸ í”„ë ˆì„ì›Œí¬ì„ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.

## Nest.js ì‹œì‘í•˜ê¸°

### 1. nest.js CLI ë„êµ¬ ì„¤ì¹˜

nest jsì—ì„œëŠ” CLI ë„êµ¬ë¥¼ ì œê³µí•˜ë¯€ë¡œ ì „ì—­ì— í•´ë‹¹ ë„êµ¬ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```
$ npm i -g @nestjs/cli
```

ì´ë¥¼ í†µí•´ í„°ë¯¸ë„ì—ì„œ `nest`ë¼ëŠ” ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```

$ nest
nest
Usage: nest <command> [options]

Options:
  -v, --version                                   Output the current version.
  -h, --help                                      Output usage information.

Commands:
  new|n [options] [name]                          Generate Nest application.
  build [options] [app]                           Build Nest application.
  start [options] [app]                           Run Nest application.
  info|i                                          Display Nest project details.
  add [options] <library>                         Adds support for an external library to your project.
  generate|g [options] <schematic> [name] [path]  Generate a Nest element.
    Schematics available on @nestjs/schematics collection:
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ name          â”‚ alias       â”‚ description                                  â”‚
      â”‚ application   â”‚ application â”‚ Generate a new application workspace         â”‚
      â”‚ class         â”‚ cl          â”‚ Generate a new class                         â”‚
      â”‚ configuration â”‚ config      â”‚ Generate a CLI configuration file            â”‚
      â”‚ controller    â”‚ co          â”‚ Generate a controller declaration            â”‚
      â”‚ decorator     â”‚ d           â”‚ Generate a custom decorator                  â”‚
      â”‚ filter        â”‚ f           â”‚ Generate a filter declaration                â”‚
      â”‚ gateway       â”‚ ga          â”‚ Generate a gateway declaration               â”‚
      â”‚ guard         â”‚ gu          â”‚ Generate a guard declaration                 â”‚
      â”‚ interceptor   â”‚ itc         â”‚ Generate an interceptor declaration          â”‚
      â”‚ interface     â”‚ itf         â”‚ Generate an interface                        â”‚
      â”‚ middleware    â”‚ mi          â”‚ Generate a middleware declaration            â”‚
      â”‚ module        â”‚ mo          â”‚ Generate a module declaration                â”‚
      â”‚ pipe          â”‚ pi          â”‚ Generate a pipe declaration                  â”‚
      â”‚ provider      â”‚ pr          â”‚ Generate a provider declaration              â”‚
      â”‚ resolver      â”‚ r           â”‚ Generate a GraphQL resolver declaration      â”‚
      â”‚ service       â”‚ s           â”‚ Generate a service declaration               â”‚
      â”‚ library       â”‚ lib         â”‚ Generate a new library within a monorepo     â”‚
      â”‚ sub-app       â”‚ app         â”‚ Generate a new application within a monorepo â”‚
      â”‚ resource      â”‚ res         â”‚ Generate a new CRUD resource                 â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. nest í”„ë¡œì íŠ¸ ìƒì„±

`nest new` ëª…ë ¹ì–´ ë’¤ì— ìƒì„±í•  ë””ë ‰í† ë¦¬ëª…ì„ ì ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì‚¬ìš©í•  package managerë¥¼ ì„ íƒí•˜ë¼ê³  ëª©ë¡ì´ í‘œì‹œë©ë‹ˆë‹¤. ì €ëŠ” `npm`ì„ ì„ íƒí•´ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

```
$ nest new myNestJs
âš¡  We will scaffold your app in a few seconds..

? Which package manager would you â¤ï¸  to use? (Use arrow keys)
â¯ npm
  yarn
  pnpm
```
ì•„ë˜ëŠ” í”„ë¡œì íŠ¸ ìƒì„± ê²°ê³¼ì…ë‹ˆë‹¤.
```
CREATE my-nest-js/.eslintrc.js (688 bytes)
CREATE my-nest-js/.prettierrc (54 bytes)
CREATE my-nest-js/nest-cli.json (179 bytes)
CREATE my-nest-js/package.json (2018 bytes)
CREATE my-nest-js/README.md (3413 bytes)
CREATE my-nest-js/tsconfig.build.json (101 bytes)
CREATE my-nest-js/tsconfig.json (567 bytes)
CREATE my-nest-js/src/app.controller.ts (286 bytes)
CREATE my-nest-js/src/app.module.ts (259 bytes)
CREATE my-nest-js/src/app.service.ts (150 bytes)
CREATE my-nest-js/src/main.ts (216 bytes)
CREATE my-nest-js/src/app.controller.spec.ts (639 bytes)
CREATE my-nest-js/test/jest-e2e.json (192 bytes)
CREATE my-nest-js/test/app.e2e-spec.ts (654 bytes)

âœ” Installation in progress... â˜•

ğŸš€  Successfully created project my-nest-js
ğŸ‘‰  Get started with the following commands:

$ cd my-nest-js
$ npm run start


                          Thanks for installing Nest ğŸ™
                 Please consider donating to our open collective
                        to help us maintain this package.


               ğŸ·  Donate: https://opencollective.com/nest
```
ë³´ì‹œëŠ” ê²ƒê³¼ ê°™ì´ ì €ëŠ” myNestJsë¼ëŠ” ì´ë¦„ì˜ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  ì‹¶ì—ˆì§€ë§Œ ìë™ìœ¼ë¡œ í•˜ì´í”ˆì„ ì´ìš©í•œ ì´ë¦„ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆë„¤ìš”. ì•„ë§ˆë„ ëŒ€ë¬¸ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.

### 3. í”„ë¡œì íŠ¸ ì‹œì‘

ìœ„ ê²°ê³¼ì— ë”°ë¼ `cd my-nest-js` ëª…ë ¹ì–´ë¥¼ í†µí•´ ìƒˆë¡­ê²Œ ìƒì„±ëœ ë””ë ‰í† ë¦¬ì— ì ‘ì† í›„ `npm run start` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

localhostì˜ 3000í¬íŠ¸ë¡œ nest js ì• í”Œë¦¬ì¼€ì´ì…˜ì´ êµ¬ë™ë˜ëŠ” ëª¨ìŠµì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


### 4. í”„ë¡œì íŠ¸ êµ¬ì¡°

ë””ë ‰í† ë¦¬ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- Nest JS ë””ë ‰í† ë¦¬ëª…
    - dist
    - node_modules
    - src
    - test
    - .eslintrc.js
    - .gitignore
    - .prettierrc
    - nest-cli.json
    - package-lock.json
    - package.json
    - README.md
    - tsconfig.build.json
    - tsconfig.json



ì£¼ìš”í•œ ë¶€ë¶„ì€ `src` ë””ë ‰í† ë¦¬ í•˜ìœ„ì— ì¡´ì¬í•©ë‹ˆë‹¤. Nest JSëŠ” í”í•˜ê²Œ ì‚¬ìš©ë˜ëŠ” MVC ë””ìì¸ íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¡°ê°€ ì„¤ê³„ë˜ì–´ìˆìŠµë‹ˆë‹¤. í¬ê²Œ êµ¬ì¡°ëŠ” 3ê°€ì§€ ë¶€ë¶„ì¸ `ëª¨ë“ˆ(Module)`, `ì»¨íŠ¸ë¡¤ëŸ¬(Controller)`, `ì„œë¹„ìŠ¤(Service)`ë¡œ ë‚˜ë‰˜ì–´ ìˆìŠµë‹ˆë‹¤.

1. ëª¨ë“ˆ(Modules) - src / app.modules.ts
@Modules() ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•´ êµ¬í˜„ë˜ë©° ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ëŠ¥ë³„ë¡œ ë‚˜ë‰˜ì–´ì§„ ë¬¶ìŒ ë‹¨ìœ„ë¥¼ ëª¨ë“ˆì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ëª¨ë“ˆ êµ¬ì„± ìš”ì†ŒëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
- `imports` : ì˜ì¡´ì„± ì£¼ì…. Aëª¨ë“ˆì´ Bëª¨ë“ˆì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ì„œëŠ” Aëª¨ë“ˆ imports ë¶€ë¶„ì— Bëª¨ë“ˆì„ ë„£ì–´ ëª¨ë“ˆì„ ê²°í•©í•  ìˆ˜ ìˆë‹¤.
- `controllers` : ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ ëª…ì‹œ.
- `providers` : í•´ë‹¹ ëª¨ë“ˆì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“ˆ ì´ì™¸ì˜ provider ëª…ì‹œ. ì£¼ë¡œ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ ëª…ì‹œ.
- `exports`: ì™¸ë¶€ ëª¨ë“ˆì—ì„œ í•´ë‹¹ ëª¨ë“ˆì„ importí–ˆì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ ëª…ì‹œ.

2. ì»¨íŠ¸ë¡¤ëŸ¬(Controller)- src / app.controller.ts
@Controller() ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•´ êµ¬í˜„ë˜ë©° HTTP ìš”ì²­ì„ ë°›ê³  ì‘ë‹µì„ í•´ì£¼ëŠ” ì—­í• ì´ë‹¤. @Get(), @Post(), @Delete() ë“±ì˜ ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•´ ìƒì„¸í•˜ê²Œ êµ¬í˜„ëœë‹¤.


3. ì„œë¹„ìŠ¤(Service)- src / app.service.ts
@Injectable() ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•´ êµ¬í˜„ë˜ë©° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì´ë‹¤. ì£¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ í˜¸ì¶œë˜ì–´ ì‚¬ìš©ëœë‹¤.


### 5. ì˜ˆì‹œ - ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„í•´ë³´ê¸°

ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì „ì²´ì ìœ¼ë¡œ í•„ìš”í•œ ë¶€ë¶„ì„ ìƒê°í•´ë³´ì•˜ë‹¤.

- DTO, Entity
- Service
- Controller
- JWT(JSON Web Token)


#### users í´ë” ìƒì„±í•˜ê¸°

ë¨¼ì € src í´ë” í•˜ìœ„ì— usersì™€ authë¼ëŠ” ì´ë¦„ì˜ í´ë” 2ê°œë¥¼ ìƒì„±í–ˆë‹¤. ì‚¬ìš©ìì™€ ì¸ì¦ì— ëŒ€í•œ ëª¨ë“ˆì„ ë”°ë¡œ ìƒì„±í•˜ê¸° ìœ„í•¨. ë˜í•œ í•´ë‹¹ í´ë” í•˜ìœ„ì—ëŠ” dto, controller, service, module íŒŒì¼ ë° í´ë”ë¥¼ ìƒì„±í–ˆë‹¤.

```
src/
â”‚
â”œâ”€â”€ auth/              # ì¸ì¦ ê´€ë ¨ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ dto/           # ë°ì´í„° ì „ì†¡ ê°ì²´
â”‚   â”‚   â”œâ”€â”€ login.dto.ts
â”‚   â”‚   â””â”€â”€ register.dto.ts
â”‚   â”œâ”€â”€ auth.controller.ts
â”‚   â”œâ”€â”€ auth.module.ts
â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”œâ”€â”€ jwt.strategy.ts
â”‚   â””â”€â”€ local.strategy.ts
â”‚
â”œâ”€â”€ users/             # ì‚¬ìš©ì ê´€ë ¨ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ dto/           # ë°ì´í„° ì „ì†¡ ê°ì²´
â”‚   â”‚   â””â”€â”€ create-user.dto.ts
â”‚   â”œâ”€â”€ entities/      # ë°ì´í„°ë² ì´ìŠ¤ ì—”í‹°í‹°
â”‚   â”‚   â””â”€â”€ user.entity.ts
â”‚   â”œâ”€â”€ users.controller.ts
â”‚   â”œâ”€â”€ users.module.ts
â”‚   â””â”€â”€ users.service.ts
â”‚
â”œâ”€â”€ app.controller.ts  # ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ë³¸ ì»¨íŠ¸ë¡¤ëŸ¬
â”œâ”€â”€ app.module.ts      # ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë£¨íŠ¸ ëª¨ë“ˆ
â””â”€â”€ main.ts            # ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸

```

#### 
